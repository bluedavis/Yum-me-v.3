{"ast":null,"code":"var _jsxFileName = \"/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/pages/Login/login.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState(state);\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password;\n      axios.post('/api/auth/login', {\n        email,\n        password\n      }).then(result => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({\n          message: ''\n        });\n        this.props.history.push('/');\n      }).catch(error => {\n        if (error.response.status === 401) {\n          this.setState({\n            message: 'Login failed. Email or password not match'\n          });\n        }\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      message: ''\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          message = _this$state2.message;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-signin\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, message !== '' && React.createElement(\"div\", {\n      className: \"alert alert-warning alert-dismissible\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, message), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Yum(Me)\"), React.createElement(\"h3\", {\n      className: \"form-signin-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"label\", {\n      for: \"inputEmail\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"Email address\",\n      name: \"email\",\n      value: email,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"inputPassword\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: password,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Not a member?\", React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-plus-sign\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), \"Register here\"))));\n  }\n\n}\n\nexport default Login; // import React, { Component } from \"react\";\n// import API from \"../../utils/API\";\n// import Container from \"../../components/Container\";\n// import { LoginBtn } from \"../../components/Buttons\";\n// import { Input } from \"../../components/Form\";\n// class Login extends Component {\n//   state = {\n//       name: \"\"\n//   }\n//   componentDidMount() {\n//     console.log(\"Page mounted\");\n//   }\n//     // handleInputChange\n//     handleInputChange = event => {\n//       // Pull the name and value properties off of the event.target (the element which triggered the event)\n//       const { value } = event.target;\n//       // Set the state for the appropriate input field\n//       this.setState({\n//         name: value\n//       });\n//     }\n// handleClick(userData) {\n//     console.log(\"Click handled\", userData)\n//     API.createUser(userData)\n//     .then(res => {\n//       console.log(\"handle click res\", res);\n//       this.setState({ name: \"\"})\n//     })\n//     .catch(err => console.log(err));\n// }\n//   render() {\n//     return (\n//         <div>\n//       <Container fluid>\n//         <span>Yum(me)</span>\n//         <hr></hr>\n//         <span>{this.state.name}</span>\n//         <Input\n//             type=\"text\"\n//             required=\"true\"\n//             placeholder=\"Name\"\n//             onChange={this.handleInputChange}\n//             value={this.state.name}\n//           />\n//         <LoginBtn onClick={ () => this.handleClick(this.state.name)}/>\n//       </Container>\n//       </div>\n//     );\n//   }\n// }\n// export default Login;","map":{"version":3,"sources":["/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/pages/Login/login.js"],"names":["React","Component","ReactDOM","axios","Link","Login","constructor","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","email","password","post","then","result","localStorage","setItem","data","token","message","props","history","push","catch","error","response","status","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: '',\n      message: ''\n    };\n  }\n  onChange = (e) => {\n    const state = this.state\n    state[e.target.name] = e.target.value;\n    this.setState(state);\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n\n    axios.post('/api/auth/login', { email, password })\n      .then((result) => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({ message: '' });\n        this.props.history.push('/')\n      })\n      .catch((error) => {\n        if(error.response.status === 401) {\n          this.setState({ message: 'Login failed. Email or password not match' });\n        }\n      });\n  }\n\n  render() {\n    const { email, password, message } = this.state;\n    return (\n      <div className=\"container\">\n        <form className=\"form-signin\" onSubmit={this.onSubmit}>\n          {message !== '' &&\n            <div className=\"alert alert-warning alert-dismissible\" role=\"alert\">\n              { message }\n            </div>\n          }\n          <h1>Yum(Me)</h1>\n          <h3 className=\"form-signin-heading\">Sign in</h3>\n          <label for=\"inputEmail\" className=\"sr-only\">Email address</label>\n          <input type=\"email\" className=\"form-control\" placeholder=\"Email address\" name=\"email\" value={email} onChange={this.onChange} required/>\n          <label for=\"inputPassword\" className=\"sr-only\">Password</label>\n          <input type=\"password\" className=\"form-control\" placeholder=\"Password\" name=\"password\" value={password} onChange={this.onChange} required/>\n          <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Login</button>\n          <p>\n            Not a member? \n              <Link to=\"/register\">\n                <span className=\"glyphicon glyphicon-plus-sign\" aria-hidden=\"true\"></span> \n                  Register here</Link>\n          </p>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n\n\n// import React, { Component } from \"react\";\n// import API from \"../../utils/API\";\n// import Container from \"../../components/Container\";\n// import { LoginBtn } from \"../../components/Buttons\";\n// import { Input } from \"../../components/Form\";\n\n\n// class Login extends Component {\n//   state = {\n//       name: \"\"\n//   }\n\n//   componentDidMount() {\n//     console.log(\"Page mounted\");\n//   }\n\n//     // handleInputChange\n//     handleInputChange = event => {\n//       // Pull the name and value properties off of the event.target (the element which triggered the event)\n//       const { value } = event.target;\n  \n//       // Set the state for the appropriate input field\n//       this.setState({\n//         name: value\n//       });\n//     }\n  \n// handleClick(userData) {\n//     console.log(\"Click handled\", userData)\n//     API.createUser(userData)\n//     .then(res => {\n//       console.log(\"handle click res\", res);\n//       this.setState({ name: \"\"})\n\n//     })\n//     .catch(err => console.log(err));\n// }\n\n//   render() {\n//     return (\n//         <div>\n//       <Container fluid>\n//         <span>Yum(me)</span>\n//         <hr></hr>\n//         <span>{this.state.name}</span>\n//         <Input\n//             type=\"text\"\n//             required=\"true\"\n//             placeholder=\"Name\"\n//             onChange={this.handleInputChange}\n//             value={this.state.name}\n//           />\n//         <LoginBtn onClick={ () => this.handleClick(this.state.name)}/>\n//       </Container>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Login;\n\n"]},"metadata":{},"sourceType":"module"}