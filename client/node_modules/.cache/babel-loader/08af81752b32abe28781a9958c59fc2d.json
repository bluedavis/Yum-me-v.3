{"ast":null,"code":"var _jsxFileName = \"/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/components/FeaturedRecipes/Search.js\";\nimport $ from \"jquery\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../Grid\";\nimport Header from \"../Header\";\nimport { SearchCard, ResultsCard } from \"../Card\";\nimport { Input, FormBtn } from \"../Form\";\nimport { List, ListItem } from \"../List\";\nimport { SaveBtn, ViewBtn } from \"../../components/Buttons\";\nimport hannasAPI from \"../../utils/recipes\";\nconsole.log(\"hannasAPI\", hannasAPI);\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      recipes: [],\n      searchTerm: \"\"\n    };\n\n    this.handleInputChange = event => {\n      // Pull the name and value properties off of the event.target (the element which triggered the event)\n      const value = event.target.value; // Set the state for the appropriate input field\n\n      this.setState({\n        searchTerm: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchRecipes();\n    };\n\n    this.searchRecipes = event => {\n      console.log('SEARCH TERM', this.state.searchTerm);\n      hannasAPI.map(i => {\n        const Ingredients = i.extendedIngredients.Ingredients;\n        console.log(\"INGREDIENTs\", Ingredients[1].name.search(\"Butter\"));\n\n        for (var i = 0; i < Ingredients.length; i++) {\n          if (Ingredients[i].name.search(this.state.searchTerm) >= 0) {\n            this.state.recipes.push(i);\n            break;\n          } else {\n            console.log(\"No recipes with ingredient \" + this.state.searchTerm + \" found.\");\n          }\n        }\n      });\n    };\n\n    this.saveRecipe = recipe => {\n      console.log(\"...saving recipe\", recipe);\n      const id = recipe.id,\n            sourceUrl = recipe.sourceUrl,\n            img = recipe.img,\n            title = recipe.title,\n            servings = recipe.servings,\n            extendedIngredients = recipe.extendedIngredients,\n            extendedInstructions = recipe.extendedInstructions;\n      API.saveRecipe({\n        id,\n        sourceUrl,\n        img,\n        title,\n        servings,\n        extendedIngredients,\n        extendedInstructions\n      }).then(res => console.log('Recipe Saved!', res)).catch(err => console.log('errrrrrror', err));\n    };\n  }\n\n  // componentDidMount\n  componentDidMount() {\n    if (this.state.recipes.length === 0) {\n      this.searchRecipes();\n    }\n\n    console.log(\"Mounted\", this.state.recipes);\n  }\n\n  render() {\n    return React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Col, {\n      size: \"md-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"lg-10 md-6 sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(SearchCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      required: \"true\",\n      id: \"recipeTitle\",\n      name: \"searchTerm\",\n      placeholder: \"Keto Cupcakes\",\n      onChange: this.handleInputChange,\n      value: this.state.searchTerm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(FormBtn, {\n      disabled: !this.state.searchTerm,\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Find Recipes!\"))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"lg-10 md-6 sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(ResultsCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.state.recipes.length ? React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.recipes.map(i => React.createElement(ListItem, {\n      key: i.id,\n      img: i.img,\n      title: i.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(SaveBtn, {\n      recipe: i,\n      onClick: this.saveRecipe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(ViewBtn, {\n      link: i.sourceUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })))) : React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"No results to display\")))))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/components/FeaturedRecipes/Search.js"],"names":["$","React","Component","API","Col","Row","Container","Header","SearchCard","ResultsCard","Input","FormBtn","List","ListItem","SaveBtn","ViewBtn","hannasAPI","console","log","Search","state","recipes","searchTerm","handleInputChange","event","value","target","setState","handleFormSubmit","preventDefault","searchRecipes","map","i","Ingredients","extendedIngredients","name","search","length","push","saveRecipe","recipe","id","sourceUrl","img","title","servings","extendedInstructions","then","res","catch","err","componentDidMount","render"],"mappings":";AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,SAApC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,SAAxC;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,SAA/B;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,SAA/B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,0BAAjC;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,SAAzB;;AAGA,MAAMG,MAAN,SAAqBjB,SAArB,CAA+B;AAAA;AAAA;AAAA,SAG7BkB,KAH6B,GAGrB;AACNC,MAAAA,OAAO,EAAE,EADH;AAENC,MAAAA,UAAU,EAAE;AAFN,KAHqB;;AAAA,SAiB7BC,iBAjB6B,GAiBTC,KAAK,IAAI;AAC3B;AAD2B,YAEnBC,KAFmB,GAETD,KAAK,CAACE,MAFG,CAEnBD,KAFmB,EAI3B;;AACA,WAAKE,QAAL,CAAc;AACZL,QAAAA,UAAU,EAAEG;AADA,OAAd;AAGD,KAzB4B;;AAAA,SA2B7BG,gBA3B6B,GA2BVJ,KAAK,IAAI;AAC1BA,MAAAA,KAAK,CAACK,cAAN;AACA,WAAKC,aAAL;AACD,KA9B4B;;AAAA,SAgC7BA,aAhC6B,GAgCbN,KAAK,IAAI;AACvBP,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKE,KAAL,CAAWE,UAAtC;AACAN,MAAAA,SAAS,CAACe,GAAV,CAAcC,CAAC,IAAI;AACjB,cAAMC,WAAW,GAAGD,CAAC,CAACE,mBAAF,CAAsBD,WAA1C;AACAhB,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Be,WAAW,CAAC,CAAD,CAAX,CAAeE,IAAf,CAAoBC,MAApB,CAA2B,QAA3B,CAA3B;;AACA,aAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,WAAW,CAACI,MAAhC,EAAwCL,CAAC,EAAzC,EAA6C;AAC3C,cAAIC,WAAW,CAACD,CAAD,CAAX,CAAeG,IAAf,CAAoBC,MAApB,CAA2B,KAAKhB,KAAL,CAAWE,UAAtC,KAAqD,CAAzD,EAA4D;AAC1D,iBAAKF,KAAL,CAAWC,OAAX,CAAmBiB,IAAnB,CAAwBN,CAAxB;AACA;AACD,WAHD,MAGO;AACLf,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAgC,KAAKE,KAAL,CAAWE,UAA3C,GAAwD,SAApE;AACD;AACF;AACF,OAXD;AAYD,KA9C4B;;AAAA,SAgD7BiB,UAhD6B,GAgDhBC,MAAM,IAAI;AAErBvB,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCsB,MAAhC;AAFqB,YAInBC,EAJmB,GAWjBD,MAXiB,CAInBC,EAJmB;AAAA,YAKnBC,SALmB,GAWjBF,MAXiB,CAKnBE,SALmB;AAAA,YAMnBC,GANmB,GAWjBH,MAXiB,CAMnBG,GANmB;AAAA,YAOnBC,KAPmB,GAWjBJ,MAXiB,CAOnBI,KAPmB;AAAA,YAQnBC,QARmB,GAWjBL,MAXiB,CAQnBK,QARmB;AAAA,YASnBX,mBATmB,GAWjBM,MAXiB,CASnBN,mBATmB;AAAA,YAUnBY,oBAVmB,GAWjBN,MAXiB,CAUnBM,oBAVmB;AAanB3C,MAAAA,GAAG,CAACoC,UAAJ,CAAe;AACbE,QAAAA,EADa;AAEbC,QAAAA,SAFa;AAGbC,QAAAA,GAHa;AAIbC,QAAAA,KAJa;AAKbC,QAAAA,QALa;AAMbX,QAAAA,mBANa;AAObY,QAAAA;AAPa,OAAf,EASGC,IATH,CASQC,GAAG,IAAI/B,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6B8B,GAA7B,CATf,EAUGC,KAVH,CAUSC,GAAG,IAAIjC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BgC,GAA1B,CAVhB;AAWD,KAxE0B;AAAA;;AAQ7B;AACAC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAK/B,KAAL,CAAWC,OAAX,CAAmBgB,MAAnB,KAA8B,CAAlC,EAAqC;AACnC,WAAKP,aAAL;AACD;;AACDb,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKE,KAAL,CAAWC,OAAlC;AACD;;AA4DD+B,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADJ,CADA,EAMA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAIE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,kBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,QAAQ,EAAC,MAFX;AAGE,MAAA,EAAE,EAAC,aAHL;AAIE,MAAA,IAAI,EAAC,YAJP;AAKE,MAAA,WAAW,EAAC,eALd;AAME,MAAA,QAAQ,EAAE,KAAK7B,iBANjB;AAOE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,UAPpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUE,oBAAC,OAAD;AACE,MAAA,QAAQ,EAAE,CAAE,KAAKF,KAAL,CAAWE,UADzB;AAEE,MAAA,OAAO,EAAE,KAAKM,gBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVF,CADF,CADF,CADF,CADA,EAwBA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,kBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKR,KAAL,CAAWC,OAAX,CAAmBgB,MAAnB,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKjB,KAAL,CAAWC,OAAX,CAAmBU,GAAnB,CAAuBC,CAAC,IACvB,oBAAC,QAAD;AACE,MAAA,GAAG,EAAEA,CAAC,CAACS,EADT;AAEE,MAAA,GAAG,EAAET,CAAC,CAACW,GAFT;AAGE,MAAA,KAAK,EAAEX,CAAC,CAACY,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,OAAD;AACA,MAAA,MAAM,EAAEZ,CADR;AAEA,MAAA,OAAO,EAAE,KAAKO,UAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAOE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEP,CAAC,CAACU,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADD,CADH,CADD,GAeG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAhBN,CADF,CADF,CAxBA,CAJF,CANA,CADF;AA+DD;;AA1I4B;;AA6I/B,eAAevB,MAAf","sourcesContent":["import $ from \"jquery\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport { Col, Row, Container } from \"../Grid\";\nimport Header from \"../Header\";\nimport { SearchCard, ResultsCard } from \"../Card\";\nimport { Input, FormBtn } from \"../Form\";\nimport { List, ListItem } from \"../List\";\nimport { SaveBtn, ViewBtn } from \"../../components/Buttons\";\nimport hannasAPI from \"../../utils/recipes\";\nconsole.log(\"hannasAPI\", hannasAPI);\n\n\nclass Search extends Component {\n\n  // state\n  state = {\n    recipes: [],\n    searchTerm: \"\",\n  };\n\n  // componentDidMount\n  componentDidMount() {\n    if (this.state.recipes.length === 0) {\n      this.searchRecipes();\n    }\n    console.log(\"Mounted\", this.state.recipes);\n  };\n\n  // handleInputChange\n  handleInputChange = event => {\n    // Pull the name and value properties off of the event.target (the element which triggered the event)\n    const { value } = event.target;\n\n    // Set the state for the appropriate input field\n    this.setState({\n      searchTerm: value,\n    });\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchRecipes();\n  }\n\n  searchRecipes = event => {\n    console.log('SEARCH TERM', this.state.searchTerm)\n    hannasAPI.map(i => {\n      const Ingredients = i.extendedIngredients.Ingredients\n      console.log(\"INGREDIENTs\", Ingredients[1].name.search(\"Butter\"));\n      for (var i = 0; i < Ingredients.length; i++) {\n        if (Ingredients[i].name.search(this.state.searchTerm) >= 0) {\n          this.state.recipes.push(i);\n          break;\n        } else {\n          console.log(\"No recipes with ingredient \" + this.state.searchTerm + \" found.\")\n        }\n      }  \n    })\n  }\n\n  saveRecipe = recipe => {\n  \n    console.log(\"...saving recipe\", recipe);\n    const { \n      id, \n      sourceUrl, \n      img, \n      title, \n      servings, \n      extendedIngredients, \n      extendedInstructions \n    } = recipe\n\n      API.saveRecipe({\n        id,\n        sourceUrl,\n        img,\n        title,\n        servings,\n        extendedIngredients,\n        extendedInstructions\n      })\n        .then(res => console.log('Recipe Saved!', res))\n        .catch(err => console.log('errrrrrror', err));\n    }\n    \n  render() {\n    return (\n      <Container fluid>\n      <Row>\n          <Col size=\"md-6\">\n            <Header />\n          </Col>\n        </Row>\n      <Row>\n        <Col size=\"md-3\">\n\n        </Col>\n        <Col size=\"md-9\">\n        <Row>\n          <Col size=\"lg-10 md-6 sm-12\">\n            <SearchCard>\n              <form>\n                <Input\n                  type=\"text\"\n                  required=\"true\"\n                  id=\"recipeTitle\"\n                  name=\"searchTerm\"\n                  placeholder=\"Keto Cupcakes\"\n                  onChange={this.handleInputChange}\n                  value={this.state.searchTerm}\n                />\n                <FormBtn\n                  disabled={!(this.state.searchTerm)}\n                  onClick={this.handleFormSubmit}\n                >\n                  Find Recipes!\n              </FormBtn>\n              </form>\n            </SearchCard>\n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"lg-10 md-6 sm-12\">\n            <ResultsCard>\n              {this.state.recipes.length ? (\n                <List>\n                  {this.state.recipes.map(i => (\n                    <ListItem\n                      key={i.id}\n                      img={i.img}\n                      title={i.title}>\n                      <SaveBtn \n                      recipe={i}\n                      onClick={this.saveRecipe}/>\n                      <ViewBtn link={i.sourceUrl} />\n                    </ListItem>\n                  ))}\n                </List>\n              ) : (\n                  <h4>No results to display</h4>\n                )}\n            </ResultsCard>\n          </Col>\n        </Row>\n        </Col>\n      </Row>\n        \n      </Container>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}