{"ast":null,"code":"var _jsxFileName = \"/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/components/FeaturedRecipes/Search.js\";\nimport axios from \"axios\"; // import cheerio from \"cheerio\";\n\nimport $ from \"jquery\";\nimport React, { Component } from \"react\"; // import DeleteBtn from \"../../components/DeleteBtn\";\n\nimport API from \"../../utils/API\"; // import { Link } from \"react-router-dom\";\n\nimport { Col, Row, Container } from \"../Grid\";\nimport { GetInspiredCard } from \"../Card\";\nimport { Input, FormBtn } from \"../Form\";\nimport { ListItem } from \"../List\";\nimport { SaveBtn, ViewBtn, LogoutBtn, MoreLessBtn } from \"../../components/Buttons\";\nimport Jumbotron from \"../Jumbotron\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      localStorage.removeItem('jwtToken');\n      window.location.reload();\n    };\n\n    this.handleInputChange = event => {\n      // Pull the name and value properties off of the event.target (the element which triggered the event)\n      const value = event.target.value; // Set the state for the appropriate input field\n\n      this.setState({\n        searchTerm: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchRecipes();\n    };\n\n    this.searchRecipes = event => {\n      console.log('searchterm', this.state.searchTerm);\n      const corsURL = 'https://cors-anywhere.herokuapp.com/';\n      const apiURL = 'https://www.food2fork.com/api/search?key=f4f40279aca7dd14a4df19d4902cae70&q=';\n      $.ajax({\n        url: corsURL + apiURL + this.state.searchTerm,\n        method: 'GET'\n      }).then(JSONresponse => {\n        var response = JSON.parse(JSONresponse);\n        this.setState({\n          recipes: response.recipes\n        });\n        console.log(\"Recipe State\", this.state.recipes);\n      });\n    };\n\n    this.saveRecipe = recipe => {\n      const recipe_id = recipe.recipe_id,\n            title = recipe.title,\n            image_url = recipe.image_url,\n            source_url = recipe.source_url,\n            publisher = recipe.publisher,\n            publisher_url = recipe.publisher_url,\n            social_rank = recipe.social_rank;\n      API.saveRecipe({\n        recipe_id,\n        title,\n        image_url,\n        source_url,\n        publisher,\n        publisher_url,\n        social_rank\n      }).then(res => console.log('Recipe Saved!', res)).catch(err => console.log('errrrrrror', err));\n    };\n\n    this.handleShowMore = this.handleShowMore.bind(this); // state\n\n    this.state = {\n      recipes: [],\n      showItems: 3\n    };\n  }\n\n  handleShowMore() {\n    this.setState({\n      showItems: this.state.showItems >= this.state.recipes.length ? this.state.showItems : this.state.showItems + 1\n    });\n  }\n\n  handleShowLess() {\n    this.setState({\n      showItems: this.state.showItems >= this.state.recipes.length ? this.state.showItems : this.state.showItems - 1\n    });\n  } // componentDidMount\n\n\n  componentDidMount() {\n    console.log(\"Mounted\");\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\n  }\n\n  render() {\n    const recipes = this.state.recipes.slice(0, this.state.showItems).map(recipe => React.createElement(ListItem, {\n      key: recipe.recipe_id,\n      img: recipe.image_url,\n      title: recipe.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(SaveBtn, {\n      recipe: recipe,\n      onClick: this.saveRecipe,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(ViewBtn, {\n      link: recipe.source_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })));\n    return React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Jumbotron, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Get Inspired!\"), React.createElement(Input, {\n      type: \"text\",\n      required: \"true\",\n      id: \"recipeTitle\",\n      name: \"searchTerm\",\n      placeholder: \"Keto Cupcakes\",\n      onChange: this.handleInputChange,\n      value: this.state.searchTerm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(FormBtn, {\n      disabled: !this.state.searchTerm,\n      onClick: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Find Recipes!\")), React.createElement(GetInspiredCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(MoreLessBtn, {\n      less: \"<\",\n      onClick: this.handleShowLess,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), recipes, React.createElement(MoreLessBtn, {\n      more: \">\",\n      onClick: this.handleShowMore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/hannalauth/Desktop/CODE/Repositories/REACTAPP/Yum-me-v.3/client/src/components/FeaturedRecipes/Search.js"],"names":["axios","$","React","Component","API","Col","Row","Container","GetInspiredCard","Input","FormBtn","ListItem","SaveBtn","ViewBtn","LogoutBtn","MoreLessBtn","Jumbotron","Search","constructor","props","logout","localStorage","removeItem","window","location","reload","handleInputChange","event","value","target","setState","searchTerm","handleFormSubmit","preventDefault","searchRecipes","console","log","state","corsURL","apiURL","ajax","url","method","then","JSONresponse","response","JSON","parse","recipes","saveRecipe","recipe","recipe_id","title","image_url","source_url","publisher","publisher_url","social_rank","res","catch","err","handleShowMore","bind","showItems","length","handleShowLess","componentDidMount","defaults","headers","common","getItem","render","slice","map"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n// import cheerio from \"cheerio\";\nimport $ from \"jquery\";\nimport React, { Component } from \"react\";\n// import DeleteBtn from \"../../components/DeleteBtn\";\nimport API from \"../../utils/API\";\n// import { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../Grid\";\nimport { GetInspiredCard } from \"../Card\";\nimport { Input, FormBtn } from \"../Form\";\nimport { ListItem } from \"../List\";\nimport { SaveBtn, ViewBtn, LogoutBtn, MoreLessBtn } from \"../../components/Buttons\"\nimport Jumbotron from \"../Jumbotron\"\n\nclass Search extends Component {\n  constructor(props) {\n    super(props)\n\n    this.handleShowMore = this.handleShowMore.bind(this);\n\n    // state\n    this.state = {\n      recipes: [],\n      showItems: 3\n    };\n\n  }\n\n  handleShowMore() {\n    this.setState({\n      showItems: \n        this.state.showItems >= this.state.recipes.length ?\n          this.state.showItems : this.state.showItems + 1\n    })\n  }\n\n  handleShowLess() {\n    this.setState({\n      showItems: \n        this.state.showItems >= this.state.recipes.length ?\n          this.state.showItems : this.state.showItems - 1\n    })\n  }\n\n  // componentDidMount\n  componentDidMount() {\n    console.log(\"Mounted\");\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('jwtToken');\n  };\n\n  // logout button\n  logout = () => {\n    localStorage.removeItem('jwtToken');\n    window.location.reload();\n  }\n\n  // handleInputChange\n  handleInputChange = event => {\n    // Pull the name and value properties off of the event.target (the element which triggered the event)\n    const { value } = event.target;\n\n    // Set the state for the appropriate input field\n    this.setState({\n      searchTerm: value,\n    });\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchRecipes();\n  }\n\n  searchRecipes = event => {\n    console.log('searchterm', this.state.searchTerm)\n    const corsURL = 'https://cors-anywhere.herokuapp.com/'\n    const apiURL = 'https://www.food2fork.com/api/search?key=f4f40279aca7dd14a4df19d4902cae70&q='\n\n    $.ajax({\n      url: corsURL + apiURL + this.state.searchTerm,\n      method: 'GET'\n    }).then(JSONresponse => {\n      var response = JSON.parse(JSONresponse);\n      this.setState({\n        recipes: response.recipes\n      })\n      console.log(\"Recipe State\", this.state.recipes)\n    }\n    )\n  }\n\n  saveRecipe = recipe => {\n\n    const { recipe_id, title, image_url, source_url, publisher, publisher_url, social_rank } = recipe\n\n      API.saveRecipe({\n        recipe_id,\n        title,\n        image_url,\n        source_url,\n        publisher,\n        publisher_url,\n        social_rank\n      })\n        .then(res => console.log('Recipe Saved!', res))\n        .catch(err => console.log('errrrrrror', err));\n    }  \n\n  render() {\n    const recipes = this.state.recipes.slice(0, this.state.showItems).map((recipe) => \n          <ListItem\n            key={recipe.recipe_id}\n            img={recipe.image_url}\n            title={recipe.title}>\n            <SaveBtn \n            recipe={recipe}\n            onClick={this.saveRecipe}/>\n            <ViewBtn link={recipe.source_url} />\n          </ListItem>\n    )\n    return (\n      <Container fluid>\n      <Row>\n        <Col size=\"lg-12\">\n        <Row>\n          <Col size=\"lg-12\">\n          <Jumbotron>\n                <h1>Get Inspired!</h1>\n              <Input \n                type=\"text\"\n                required=\"true\"\n                id=\"recipeTitle\"\n                name=\"searchTerm\"\n                placeholder=\"Keto Cupcakes\"\n                onChange={this.handleInputChange}\n                value={this.state.searchTerm}/>\n                <FormBtn\n                  disabled={!(this.state.searchTerm)}\n                  onClick={this.handleFormSubmit}\n                >\n                  Find Recipes!\n              </FormBtn>\n              </Jumbotron> \n            <GetInspiredCard>  \n              <MoreLessBtn less=\"<\" onClick={this.handleShowLess} />\n              {recipes}\n              <MoreLessBtn more=\">\" onClick={this.handleShowMore} />          \n            </GetInspiredCard>\n\n          </Col>\n        </Row>\n        </Col>\n      </Row>\n        \n      </Container>\n    );\n  }\n}\n\nexport default Search;\n\n"]},"metadata":{},"sourceType":"module"}